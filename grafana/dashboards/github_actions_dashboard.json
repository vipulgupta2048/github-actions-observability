{
  "id": null,
  "title": "GitHub Actions & VCS Dashboard",
  "tags": [
    "github",
    "ci/cd",
    "otel"
  ],
  "timezone": "browser",
  "panels": [
    {
      "id": 1,
      "title": "Repository Count",
      "type": "stat",
      "targets": [
        {
          "expr": "otelcol_vcs_repository_count",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "short",
          "displayName": "Total Repositories"
        }
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 0
      }
    },
    {
      "id": 2,
      "title": "Total Changes (Merged)",
      "type": "stat",
      "targets": [
        {
          "expr": "sum(otelcol_vcs_change_count{vcs_change_state=\"merged\"})",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "short",
          "displayName": "Merged Changes"
        }
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 0
      }
    },
    {
      "id": 3,
      "title": "Open vs Merged Changes",
      "type": "piechart",
      "targets": [
        {
          "expr": "sum by (vcs_change_state) (otelcol_vcs_change_count)",
          "refId": "A",
          "legendFormat": "{{vcs_change_state}}"
        }
      ],
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 0,
        "y": 8
      }
    },
    {
      "id": 4,
      "title": "Top Repositories by Merged Changes",
      "type": "table",
      "targets": [
        {
          "expr": "topk(10, otelcol_vcs_change_count{vcs_change_state=\"merged\"})",
          "refId": "A",
          "format": "table",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": {
            "displayMode": "list"
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "vcs_repository_name"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Repository"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Value"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Merged Changes"
              }
            ]
          }
        ]
      },
      "transformations": [
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "__name__": true,
              "Time": true,
              "instance": true,
              "job": true,
              "otel_scope_name": true,
              "otel_scope_version": true,
              "vcs_change_state": true,
              "vcs_repository_url_full": true
            }
          }
        }
      ],
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 12,
        "y": 8
      }
    },
    {
      "id": 5,
      "title": "Repository Activity (Changes Over Time)",
      "type": "bargraph",
      "targets": [
        {
          "expr": "otelcol_vcs_change_count{vcs_change_state=\"merged\"}",
          "refId": "A",
          "legendFormat": "{{vcs_repository_name}}"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "short"
        }
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 18
      }
    },
    {
      "id": 6,
      "title": "Active Repositories (with Open Changes)",
      "type": "table",
      "targets": [
        {
          "expr": "otelcol_vcs_change_count{vcs_change_state=\"open\"} > 0",
          "refId": "A",
          "format": "table",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": {
            "displayMode": "list"
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "vcs_repository_name"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Repository"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Value"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Open Changes"
              }
            ]
          }
        ]
      },
      "transformations": [
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "__name__": true,
              "Time": true,
              "instance": true,
              "job": true,
              "otel_scope_name": true,
              "otel_scope_version": true,
              "vcs_change_state": true,
              "vcs_repository_url_full": true
            }
          }
        }
      ],
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 28
      }
    }
  ],
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "refresh": "30s",
  "schemaVersion": 27,
  "version": 0,
  "gnetId": null
}